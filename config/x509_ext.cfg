###############################################################################################################
## x509v3 extensions for CA-signed certificates, see 'man x509v3_config' for more information
###############################################################################################################

[ca] # intermediate CA certificate extensions.
subjectKeyIdentifier   = hash
authorityKeyIdentifier = keyid:always,issuer
basicConstraints       = critical, CA:TRUE, pathlen:0
keyUsage               = critical, digitalSignature, cRLSign, keyCertSign
crlDistributionPoints  = URI:http://localhost:8000/crl/crl.der
# authorityInfoAccess  = OCSP;URI:http://localhost:8001

[client] # client certificate extensions.
subjectKeyIdentifier   = hash
authorityKeyIdentifier = keyid,issuer
basicConstraints       = CA:FALSE
keyUsage               = critical, nonRepudiation, digitalSignature, keyEncipherment
extendedKeyUsage       = clientAuth
subjectAltName         = @client_subj_alt_name
crlDistributionPoints  = URI:http://localhost:8000/crl/crl.der
# authorityInfoAccess  = OCSP;URI:http://localhost:8001

[server] # server certificate extensions.
subjectKeyIdentifier   = hash
authorityKeyIdentifier = keyid,issuer:always
basicConstraints       = CA:FALSE
keyUsage               = critical, digitalSignature, keyEncipherment
extendedKeyUsage       = serverAuth
subjectAltName         = @server_subj_alt_name
crlDistributionPoints  = URI:http://localhost:8000/crl/crl.der
# authorityInfoAccess  = OCSP;URI:http://localhost:8001

[ocsp] # OCSP certificate extensions.
subjectKeyIdentifier   = hash
authorityKeyIdentifier = keyid,issuer
basicConstraints       = CA:FALSE
keyUsage               = critical, digitalSignature
extendedKeyUsage       = critical, OCSPSigning

###############################################################################################################
## subjectAltName sections, see 'man x509v3_config' for more information
## id-on-xmppAddr = 1.3.6.1.5.5.7.8.5
###############################################################################################################
[client_subj_alt_name]
otherName.1 = 1.3.6.1.5.5.7.8.5;UTF8:client@localhost
otherName.2 = 1.3.6.1.5.5.7.8.5;UTF8:client@fed1

[server_subj_alt_name]
otherName.1 = 1.3.6.1.5.5.7.8.5;UTF8:anonymous.localhost
otherName.2 = 1.3.6.1.5.5.7.8.5;UTF8:localhost.bis
DNS.1 = localhost
DNS.2 = fed1
